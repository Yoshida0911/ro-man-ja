\section{関連研究}
本節では，高次タスク計画と信頼性の向上，言語指示による動作の最適化，およびLLMを活用したソーシャルナビゲーションに関する既存の文献について述べる．

\subsection{高次タスク計画と信頼性の向上}
LLMの登場以降，ロボティクス分野においてLLMを高次タスク計画へ統合する研究が進められている．
特に，自然言語指示をもとにタスク分解し，行動系列を生成するタスクプランニングへの応用が注目されている．
従来の記号的タスクプランニングとは異なり，LLMは抽象的な自然言語指示を解釈し，ロボットが実行可能な行動へと変換する柔軟性を有する．
初期の代表的なアプローチであるSayCanは，LLMが生成する各行動候補の言語的尤度と，ロボットの能力に基づく実行可能性の確率を掛け合わせることで行動を選択する手法である\cite{ahn2022can}．
これにより，高次推論と物理的実行可能性を統合した計画生成を実現した．
また，LiangらはCode as Policies (CaP)を提案し，自然言語指示から実行可能なコードを生成することで，既存のAPIや関数を組み合わせたポリシーを構築し，LLMの推論能力を活用したタスク計画を実現した\cite{liang2022code}．
これらの研究は，LLMを高次推論モジュールとしてロボットへ統合する可能性を示したが，タスクが長期的かつ複雑になるにつれて，単一の推論のみで整合性のある計画を生成することは困難である．
この課題に対して，形式言語や構造化された環境表現を介在させることで，長期的な計画能力を向上させる研究が提案されている．
LiuらはLLM+Pを提案し，自然言語で記述された計画問題をLLMによってPDDLへ変換し，古典プランナによる最適解を導出することで，長期タスクにおける計画の整合性を向上させた\cite{liu2023llm+}．
さらに大規模な環境における探索効率を高めるために，Ranaらは3Dシーングラフを用いて環境を構造化し，タスクに関連する部分グラフのみをLLMに提示するSayplanを提案した\cite{rana2023sayplan}．
Liuらは，シーングラフとLLMを組み合わせ，長期的なゴールを自己回帰的にサブゴールへと分解するDELTAを提案しており，形式言語を用いた記述とタスク分解を併用することで，大規模環境における計画の成功率と計算効率を向上させた\cite{liu2025delta}．
一方で，LLMが生成するハルシネーションは，物理的安全性が要求されるロボットシステムにおいて重大な課題となっている．
そのため，生成された計画を外部知識や環境フィードバックに基づいて検証し，必要に応じて再推論を行う枠組みが提案されている．
ZhouらはISR-LLMを提案し，LLMが生成した計画を自己評価し，反復的に修正することで推論の信頼性を向上させる枠組みを示した\cite{zhou2024isr}．
同様にJoublinらはCoPALを提案し，高レベルから低レベルまでのマルチレベルフィードバックを活用した閉ループ再計画アーキテクチャを構築することで，物理的および論理的エラーに対処可能な枠組みを示した\cite{joublin2024copal}．
Leeらは生成された動作から逆動作を生成し，元の状態に復元可能かを検証するプロセスを導入することで，論理的な整合性を明示的に確認し，従来の手法よりも解釈性の高いフィードバックと高いタスク成功率を実現した\cite{lee2025self}．
また，計画そのものではなく，プランナのコード自体を診断・修正の対象とするアプローチも提案されている．
Linらは，LLMを用いて検索ベース及びサンプリングベースのプランナの不具合を修正し，性能を反復的に向上させる枠組みを提示した\cite{lin2024drplanner}．
このように，高次なタスク計画においては，LLMを単なる翻訳機としてではなく，環境構造を理解し，自らの出力を検証・修正可能な推論モジュールとして活用するアプローチが進展している．

\subsection{言語指示による動作の最適化}
LLMは高次なタスク計画において優れた推論能力を発揮する一方で，物理的なロボットの動作生成においては，幾何学的な制約を考慮する必要がある．
そのため，安全性および実行精度の観点から，LLMを最適化問題の定式化や評価関数設計を担うモジュールとして活用するアプローチが提案されている．
Kwonらは，LLM をゼロショットの軌道生成器として利用するアプローチを提案し，ロボットアームのエンドエフェクタの軌道を言語指示から直接生成させつつ，障害物回避などの幾何学的制約を別途最適化で解決する手法を示した\cite{kwon2024language}．
また，Shaoらは，自然言語による運転指示とセンサ情報を入力とし，予測された制御信号と実際の制御の誤差を最小化するように学習することで，複雑な都市環境における閉ループの自律運転を実現している\cite{shao2024lmdrive}．
これらの研究は，言語モデルが物理的動作の外形や方針を決定し，低レベルのコントローラがその実行を担うという役割分担の有効性を示唆している．
さらに，より明示的に制御挙動へ反映させるために，LLMを用いてコスト関数や報酬関数そのものを生成する研究も提案されている．
Chenらは，オブジェクトのベクトル表現と大規模言語モデルを融合し，運転判断の根拠を言語的に説明可能としつつ，それに基づいた安全な軌道計画を行う手法を提案した\cite{chen2024driving}．
また，SimaらはDrivelmを提案し，知覚・予測・計画の全プロセスをグラフ構造を持つ質疑応答タスクとして定式化することで，論理的な推論に基づいた運転動作の決定を実現した\cite{sima2024drivelm}．

\subsection{LLMを活用したソーシャルナビゲーション}
高次タスク計画や軌道生成に加え，近年ではロボットが置かれた環境の文脈やユーザの意図に応じて適切な行動を生成するために，基盤モデルの活用が進展している．
Firooziらのサーベイにおいても，LLMが知覚・意思決定・制御に至るロボットタスク全体を支援する枠組みが整理されている．
特に，言語や画像を入力として報酬関数やコスト関数を設計し，強化学習や制御パラメータの調整を行うアプローチが，多様な環境への適応において重要であることが指摘されている\cite{firoozi2025foundation}．
従来の制御手法では，安全性や効率性といった評価指標は事前に固定されたパラメータとして定義されることが一般的であった．
一方，LLMを用いることで，ユーザの抽象的な指示に基づき，これらのパラメータを動的に調整することが可能となる．
Martinezらは，自然言語によるユーザ指示を入力として，モデル予測制御（MPC）のコスト関数や制約条件を再構成する手法を提案した\cite{martinez2025hey}．
この手法では，LLMが「急いで」や「安全に」といった曖昧な指示を解釈し，速度追従や障害物回避の重みを動的に調整することで，安全制約を維持しつつ，ユーザの好みに応じた挙動のパーソナライズを実現している．
さらに，ユーザからの明示的な指示だけでなく，視覚情報から環境の社会的文脈を読み取り，人間と共存可能な行動を生成する試みも報告されている．
Songらは，VLMを用いてロボットの視覚入力から社会的状況を解釈し，人混みにおける譲り合いや右側通行規範などの社会的に適切な行動をスコアリングするVLM-Social-Naviを提案した\cite{song2024vlm}．
この手法では，YOLOによる物体検出器が特定の社会的状況を検出した際にVLMを起動し，生成された自然言語による推奨行動と低レイヤの局所プランナが生成する候補軌道との整合性をコストとして組み込むことで，安全性と社会的適切性の両立を実現している．
WeerakoonらはBehAVを提案し，自然言語で与えられた行動規則をVLMとLLMを用いて解釈し，行動対象の空間分布と行動の望ましさ確率を統合したBehavioral Cost Mapを構築する手法を示した\cite{weerakoon2025behav}．
このコストマップをMPCの目的関数へ組み込むことで，視覚情報に基づき社会的規範を考慮した屋外ナビゲーションを実現している．
Songらは，VL-TGSを提案し，CVAEによって生成された複数の候補軌道をRGB画像上に可視化し，VLMによる文脈理解に基づいて最適な軌道を選択する手法を示した\cite{song2025vl}．
この手法は，幾何学的な可走行性と視覚的文脈理解を分離し，VLMを評価モジュールとして利用する構造を採用している．

これらの研究は，ロボットが文脈理解に基づいて行動を変化させる上で，LLMやVLMを上位レイヤとして活用する有効性を示している．
しかし，MPCなどの最適化プランナのコスト関数を直接生成・再構成する方式は計算負荷が大きく，実時間性の観点から課題が残る．
また，Songらの手法では，視覚情報から社会的文脈を推定し，DWAの軌道選択へ反映させている点で有効であるものの，扱う社会的状況は事前に定義されたパターンに依存している．
より抽象的かつ広範な文脈を，汎用的な数値パラメータとして柔軟に調整する枠組みは十分に検討されていない．
また，多くの既存研究は視覚情報を中心とした社会的文脈理解に基づいており，音響情報を含むマルチモーダルな環境理解を局所経路計画へ統合する枠組みは十分に検討されていない．
本研究では，これらの課題を踏まえ，VLMが理解したマルチモーダルな文脈情報を少数の数値パラメータとして抽出し，人工ポテンシャル法の評価関数へ直接反映させるアーキテクチャを提案する．

